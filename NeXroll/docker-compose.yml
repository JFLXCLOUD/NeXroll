version: '3.8'

services:
  nexroll:
    image: jbrns/nexroll:latest
    container_name: nexroll
    restart: unless-stopped
    
    ports:
      - "9393:9393"
    
    volumes:
      # Prerolls directory - mount your NAS or local prerolls folder here
      - /path/to/your/prerolls:/app/data/prerolls
      
      # Persistent data (database, logs, thumbnails)
      - nexroll-data:/app/data
    
    environment:
      # Optional: Timezone configuration (fixes v1.7.16)
      - TZ=${TZ:-UTC}
      
      # Optional: Scheduler check interval in seconds (fixes v1.7.16, default: 60)
      - SCHEDULER_INTERVAL=${SCHEDULER_INTERVAL:-60}
      
      # Optional: Pre-configure Plex/Jellyfin connection
      - NEXROLL_PLEX_URL=${PLEX_URL:-}
      - NEXROLL_JELLYFIN_URL=${JELLYFIN_URL:-}
    
    # Uncomment to allow access to host network
    # network_mode: host

volumes:
  nexroll-data:
    driver: local
